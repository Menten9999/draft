<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="robots" content="noindex">
<title>管理者画面</title>
<style>
	.card{display:inline-block;padding:12px 16px;background:#17a2b8;color:#fff;border-radius:6px;text-decoration:none;font-weight:600}
	.card.back{background:#6c757d}
	.disabled{pointer-events:none;opacity:0.5}
	.notice{margin-top:12px;color:#d90429;font-weight:600}
</style>
</head>
<body>
	<main class="box">
		<h1>管理者画面</h1>
		<p>管理者用のダッシュボードです。ここからセットアップ画面へ進めます。</p>

		<div class="row">
			<a id="setup-link" class="card" href="../setup/setup.html">セットアップ画面を開く</a>
			<a id="home-link" class="card back" href="../home/index.html">ホームに戻る（ログアウト）</a>
		</div>

		<div id="admin-notice" class="notice" style="display:none;"></div>

		<hr style="margin:18px 0;border:none;border-top:1px solid #eee">

		<p class="note">※ 本画面は簡易な管理画面です。必要に応じてログ管理や権限管理を追加してください。</p>
	</main>

<!-- Firebase 設定ファイルの読み込み -->
<script src="../firebase-config.js"></script>
<script>
	(function(){
		const noticeEl = document.getElementById('admin-notice');
		const setupLink = document.getElementById('setup-link');
		const homeLink = document.getElementById('home-link');

		if (typeof firebaseConfig === 'undefined') {
			console.error('firebaseConfig is not defined. admin links disabled.');
			noticeEl.textContent = 'エラー: Firebase 設定が読み込まれていません。設定ファイル (firebase-config.js) を配置してください。';
			noticeEl.style.display = 'block';
			setupLink.classList.add('disabled');
			homeLink.classList.add('disabled');
			// 追加オプション: クリック防止のため href を無効化
			setupLink.setAttribute('href', '#');
			homeLink.setAttribute('href', '#');
			return;
		}

		// firebaseConfig がある場合は安全に初期化（多重初期化回避）
		if (!window.firebase) {
			console.warn('Firebase SDK not loaded. If you need realtime features, include Firebase SDK.');
			// SDK がないなら処理を止めずリンクは有効のままにしておく
			return;
		}
		if (!firebase.apps || !firebase.apps.length) {
			try { firebase.initializeApp(firebaseConfig); } catch (e) { console.warn('firebase initialize error', e); }
		}
	})();
</script>
</body>
</html>