# READ ME

## このサイトについて

・このサイトは合宿や連盟大会その他各種試合におけるドラフト会議をオンラインでできるようにするために作られたページです
・チーム数は現在4チームまで対応可能ですが,規模によっては増やすことも可能です
・将来的にはパワポやその他指名発表用のページへの自動読み込みを目指しています
・そもそもGeminiおよびgithub copilotに作らせたため,私もあまり構造を把握していません(特にJSの部分)

## 機能

現時点での機能は以下の通りです

### available

・ドラフトの設定(チーム数,チーム名,候補者)
・指名
・重複時の抽選

### 開発中

・ウェイバー方式
・React-Nativeへの移行

## 大まかな構造

以下では大まかな構造を記述していきます

### /home

homeフォルダにはログイン画面へ遷移する用のリンクが張られているhtmlファイルがあります
ただただaタグで記述しているだけなので難しいことはないです
チーム数を増やしたいときはまたaタグで増やしてください

### /login

/loginにはadmin,setuplog,team1~4の5つの下層フォルダが用意してあり,それぞれのフォルダには選択画面の前のログイン画面が用意してあります
現在ではadminは使用していません
ログイン画面は若干JSを使って書いている所もあります
基本遷移先は変更しないはずです
パスワードは適宜変更してください
現在は監督名をSHA256でハッシュ化したものをパスワードとして使用しています

### /select

/selectはteam1~4の4つの下層フォルダがあり,それぞれに選択画面用のhtmlと抽選結果の画像が二枚入っています
ここはめちゃくちゃJS入ってます
もしかしたらそれぞれのファイルでロジック違うかもしれませんができたら統一するで大丈夫だと思います(現状動作はしている)
基本AIに聞けばどうにかなります

### /setting

ここには.gitignoreが入っています
firebase-configを表示できるようにしてしまうとAPI使い放題になっちゃうので表示しないように設定しているだけです

### /setup

ここにはドラフト責任者がチーム数,チーム名,候補者を設定する用のファイルがはいっています
JS多めです

### データベースについて

googleのfirebaseを利用しています
現状は開発者の個人アカウントで運用中ですが,将来的にはピン球のアカウントへの移行も視野に入れています
ルールは改善策を模索中ですが,現在はドラフト開催時に
read:Ture
write:True
開催しないときは
read:false
write:false
に設定しています(こうしないとセキュリティが脆弱ですというメールが毎日送られてきます
正直書き込まれるのは使用料の問題で面倒ですが読まれる分には別にいいのですがこの設定にしておきましょう)
無料プランで事足りるはずなので容量はあまり気にしなくていいです
